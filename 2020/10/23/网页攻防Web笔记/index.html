<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>网页攻防Web笔记 | Hui's Blog</title><script src="https://cdn.bootcss.com/valine/1.4.4/Valine.min.js"></script><link rel="stylesheet" href="/css/arknights.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/styles/atom-one-dark-reasonable.min.css"><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Hui's Blog" type="application/atom+xml">
</head><body><header><nav><a href="/">Home</a><a href="/archives/">Archives</a></nav></header><main><article><div id="post-bg"><div id="post-title"><h1>网页攻防Web笔记</h1><hr></div><div id="post-content"><blockquote>
<p><a target="_blank" rel="noopener" href="https://oj.x10sec.org/">项目地址</a></p>
</blockquote>
<h2 id="PHP弱类型"><a href="#PHP弱类型" class="headerlink" title="PHP弱类型"></a>PHP弱类型</h2><ul>
<li>题目：</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022193722982.png" alt="image-20201022193722982"></p>
<ul>
<li>分析：</li>
</ul>
<blockquote>
<p>此题考的PHP<code>弱类型</code>绕过</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">	$a = <span class="number">1</span>;</span><br><span class="line">	$b = <span class="string">&#x27;1a&#x27;</span>;</span><br><span class="line">	$a == $b; <span class="comment">//true</span></span><br><span class="line">	$a === $b; <span class="comment">//false</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>== 在进行比较的时候会先把字符串类型转换成相同再比较</p>
<p>=== 在进行比较的时候 会先判断两种字符串的类型是否相等再比较</p>
</blockquote>
<ul>
<li><p>解题：</p>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022194232509.png" alt="backgroup"></p>
</li>
</ul>
<h2 id="什么是头信息"><a href="#什么是头信息" class="headerlink" title="什么是头信息"></a>什么是头信息</h2><ul>
<li>题目：</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022195400857.png" alt="image-20201022194232509"></p>
<ul>
<li>分析：</li>
</ul>
<blockquote>
<p>根据题目得知<code>F12</code>查看头文件内容</p>
</blockquote>
<ul>
<li>解题</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022200014135.png" alt="image-20201022195556792"></p>
<h2 id="什么是源代码"><a href="#什么是源代码" class="headerlink" title="什么是源代码"></a>什么是源代码</h2><ul>
<li>题目</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022195705963.png" alt="image-20201022195705963"></p>
<ul>
<li>分析</li>
</ul>
<blockquote>
<p><code>F12查看源代码</code></p>
</blockquote>
<ul>
<li>解题</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022200149646.png" alt="image-20201022200014135"></p>
<blockquote>
<p><strong>或者</strong>：</p>
</blockquote>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022200216491.png" alt="image-20201022200149646"></p>
<h2 id="什么是GET"><a href="#什么是GET" class="headerlink" title="什么是GET"></a>什么是GET</h2><ul>
<li>题目</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022200342707.png" alt="image-20201022200342707"></p>
<ul>
<li>分析</li>
</ul>
<blockquote>
<p>根据题目提示直接GET提交参数</p>
</blockquote>
<ul>
<li>解题</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022200608947.png" alt="image-20201022200608947"></p>
<h2 id="什么是POST"><a href="#什么是POST" class="headerlink" title="什么是POST"></a>什么是POST</h2><ul>
<li>题目</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022200716195.png" alt="image-20201022200216491"></p>
<ul>
<li>分析</li>
</ul>
<blockquote>
<p>用hackbar<code>POST</code> 提交参数即可</p>
</blockquote>
<ul>
<li>解题</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022200953219.png" alt="image-20201022200953219"></p>
<h2 id="网页跳转方式一"><a href="#网页跳转方式一" class="headerlink" title="网页跳转方式一"></a>网页跳转方式一</h2><ul>
<li>题目</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022201241113.png" alt="image-20201022200716195"></p>
<ul>
<li>分析</li>
</ul>
<blockquote>
<p>根据题目提示<code>F12</code>查看源代码</p>
</blockquote>
<ul>
<li>解题</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022201125238.png" alt="image-20201022203949592"></p>
<h2 id="网页跳转方式二"><a href="#网页跳转方式二" class="headerlink" title="网页跳转方式二"></a>网页跳转方式二</h2><ul>
<li>题目</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201027143812248.png" alt="image-20201027143812248"></p>
<ul>
<li>分析</li>
</ul>
<blockquote>
<p>页面跳转很快，用burp抓包就可以了</p>
</blockquote>
<ul>
<li>解题</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201027143859103.png" alt="image-20201027143859103"></p>
<h2 id="MD5简单碰撞器"><a href="#MD5简单碰撞器" class="headerlink" title="MD5简单碰撞器"></a>MD5简单碰撞器</h2><ul>
<li>题目：</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022203949592.png" alt="image-20201022201241113"></p>
<ul>
<li>分析</li>
</ul>
<blockquote>
<p>如果md的值是0e开头的 那么就与其它0e开头的md5值是相同的</p>
</blockquote>
<p><code>代码测试</code>：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$a = md5(<span class="string">&#x27;s1665632922a&#x27;</span>); <span class="comment">// = 0e731198061491163073197128363787</span></span><br><span class="line">$b = md5(<span class="string">&#x27;s878926199a&#x27;</span>); <span class="comment">// = 0e545993274517709034328855841020</span></span><br><span class="line">var_dump($a == $b);	<span class="comment">// true</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>根据源代码分析得知: </p>
<p>构造一个用户名为<code>admin</code> 密码为<code>s878926199a</code>(经过md5加密后0e开头) 即可绕过</p>
</blockquote>
<ul>
<li>解题</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022205001206.png" alt="image-20201022201125238"></p>
<h2 id="本地的诱惑"><a href="#本地的诱惑" class="headerlink" title="本地的诱惑"></a>本地的诱惑</h2><ul>
<li>题目：</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022215639305.png" alt="image-20201022205001206"></p>
<ul>
<li>分析：</li>
</ul>
<blockquote>
<p>根据题目得知需要从本地访问</p>
<p>Burp抓包 构造一个<code>X-Forwarded-For</code>头 </p>
</blockquote>
<ul>
<li>解题</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022215839435.png" alt="image-20201022215839435"></p>
<h2 id="比较数字大小"><a href="#比较数字大小" class="headerlink" title="比较数字大小"></a>比较数字大小</h2><ul>
<li>题目</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022220034885.png" alt="image-20201022215639305"></p>
<ul>
<li>分析</li>
</ul>
<blockquote>
<p>根据题目得知只要比服务器上的数字大就好了</p>
<p>F12修改</p>
</blockquote>
<ul>
<li>解题</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022220249885.png" alt="image-20201022220249885"></p>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201022220303416.png" alt="image-20201022220034885"></p>
<h2 id="简单认证"><a href="#简单认证" class="headerlink" title="简单认证"></a>简单认证</h2><ul>
<li>题目</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201024195017348.png" alt="image-20201024195017348"></p>
<ul>
<li>分析</li>
</ul>
<blockquote>
<p>打开网站首页发现了一个admin.php 显示只允许admin登陆</p>
</blockquote>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201024195418692.png" alt="image-20201024195418692"></p>
<blockquote>
<p>根据提示cookie 抓包 发现 cookie role=<code>bm9ib2R5</code>base64解密为nobody</p>
<p>把admin base64加密一下上传即可得到flag</p>
</blockquote>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201024195820163.png" alt="image-20201024195820163"></p>
<h2 id="MD5加强碰撞器"><a href="#MD5加强碰撞器" class="headerlink" title="MD5加强碰撞器"></a>MD5加强碰撞器</h2><ul>
<li>题目</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201027135547721.png" alt="image-20201027135547721"></p>
<blockquote>
<p>源代码：</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line">header(<span class="string">&quot;Content-Type: text/html; charset=utf-8&quot;</span>);</span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_SESSION[<span class="string">&#x27;CHVGCGMM_login&#x27;</span>])) &#123;</span><br><span class="line">    header(<span class="string">&#x27;Location: panel.php&#x27;</span>);</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&#x27;登录成功！&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$p_username = $_POST[<span class="string">&#x27;username&#x27;</span>];</span><br><span class="line">$p_password = $_POST[<span class="string">&#x27;password&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($p_username) &amp;&amp; <span class="keyword">isset</span>($p_password)) &#123;</span><br><span class="line">    <span class="keyword">if</span> ($p_username == $p_password) <span class="keyword">die</span>(<span class="string">&#x27;用户名与密码不能相同！&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (md5($p_password) === md5($p_username)) &#123;</span><br><span class="line">        $_SESSION[<span class="string">&#x27;CHVGCGMM_login&#x27;</span>] = $p_username;</span><br><span class="line">        header(<span class="string">&#x27;Location: panel.php&#x27;</span>);</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&#x27;登录成功！&#x27;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&#x27;密码不正确！&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>分析</li>
</ul>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">当传入的值不是字符串而是数组的时候，md5（）函数不会报错，继续执行下去强等于<span class="comment">===成立</span></span><br></pre></td></tr></table></figure>

<ul>
<li>解题</li>
</ul>
<p><img src="https://gitee.com/ey0rt/hexo_img/raw/master/image/image-20201027140513028.png" alt="image-20201027140513028"></p>
<div id="paginator"></div></div><div id="post-footer"><hr><a href="/2020/10/26/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C-Web2/">← Prev 攻防世界-Web2</a><span style="color: #fe2"> | </span><a href="/2020/10/23/Upload-labs%E9%80%9A%E5%85%B3%E7%AC%94%E8%AE%B0/">Upload-labs通关笔记 Next →</a><hr></div><div id="bottom-btn"><a id="to-index" href="#post-index" title="index">≡</a><a id="to-top" href="#post-title" title="to top">∧</a></div><div id="Valine"></div><script>new Valine({
 el: '#Valine'
 , appId: ''
 , appKey: ''
 , placeholder: '此条评论委托企鹅物流发送'
})</script></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/"> Dr.Hui</a></h1><section id="total"><a id="total-archives" href="/archives"><span class="total-title">Archives Total:</span><span class="total-number">15</span></a><div id="total-tags"><span class="total-title">Tags:</span><span class="total-number">20</span></div><div id="total-categories"><span class="total-title">Categories:</span><span class="total-number">6</span></div></section></div><div id="aside-block"></div><footer><nobr><span class="text-title">©</span><span class="text-content">1970 to 2020</span></nobr><wbr><nobr><span class="text-title">ICP</span><span class="text-content">——备案号——</span></nobr><wbr><wbr><nobr>published with&nbsp;<a target="_blank" rel="noopener" href="http://hexo.io">Hexo&nbsp;</a></nobr><wbr><nobr>Theme&nbsp;<a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknight&nbsp;</a></nobr><wbr><nobr>by&nbsp;<a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/arknights.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script></body></html>